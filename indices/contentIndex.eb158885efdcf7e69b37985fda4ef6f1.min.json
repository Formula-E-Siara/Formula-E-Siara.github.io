{"/":{"title":"F√≥rmula-E Siar√° Wiki","content":"\nTentativa de criar uma [Knowledge Base](https://pt.wikipedia.org/wiki/Base_de_conhecimento) para o projeto F√≥rmula-E Siar√° da Universidade Federal do Cear√°.\n\nObjetivos:\n\n1. Criar um √∫nico local com uma verdade absoluta. Onde todos os membros podem consultar e, claro, corrigir.\n2. Promover um ponta-p√© inicial para os membros rec√©m-ingressantes.\n\n## Participe agora mesmo!\n\u003e üåé [P√°gina Inicial F√≥rmula-E Siar√°](FESiar√°.md) \u003cbr/\u003e\n\u003e üìö [\"Como realizar modifica√ß√µes na Wiki?\"](comorealizarmodifica√ß√µes.md) \u003cbr/\u003e\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/FESiar%C3%A1":{"title":"P√°gina Inicial","content":"\n# Ent√£o voc√™ quer saber mais sobre o F√≥rmula-E Siar√°?\n\nNossa equipe √© formada por alunos de diferentes cursos de engenharia e √°reas afins, que trabalham em conjunto para criar um carro inovador, eficiente e competitivo.\n\nNeste site, voc√™ vai conhecer um pouco mais sobre o nosso projeto e as principais caracter√≠sticas do nosso carro. Vamos apresentar os sistemas que comp√µem o ve√≠culo e os desafios que enfrentamos para desenvolv√™-los. Esperamos que voc√™ se inspire com a nossa hist√≥ria e se apaixone pelo F√≥rmula-E Siar√°!\n\n### Chassi\n\nO chassi √© a estrutura que sustenta todos os componentes do ve√≠culo. Ele deve ser leve, resistente e r√≠gido o suficiente para garantir a seguran√ßa dos ocupantes e o desempenho din√¢mico do carro.¬†O nosso chassi √© feito de tubos de a√ßo (SAE 1020) soldados com o processo MIG/MAG, realizado por alunos da UFPB. Ele possui uma c√©lula de sobreviv√™ncia para o piloto, com cintos de seguran√ßa de cinco pontos e uma barra antivolta. O chassi tamb√©m incorpora pontos de fixa√ß√£o para os sistemas de suspens√£o, freio, dire√ß√£o, propuls√£o e baterias.\n\n### Suspens√£o\n\nA suspens√£o √© o sistema respons√°vel por conectar as rodas ao chassi e absorver as irregularidades do solo. Ela deve proporcionar estabilidade, conforto e ader√™ncia ao ve√≠culo. A nossa suspens√£o √© do tipo duplo A (double wishbone), com quatro bra√ßos triangulares por roda, que permitem ajustar a geometria da suspens√£o de acordo com as condi√ß√µes da pista. A suspens√£o tamb√©m conta com amortecedores a g√°s e barras estabilizadoras, que controlam o movimento vertical e lateral do carro.\n\n### Sistema de Freio\n\nO sistema de freio √© o sistema respons√°vel por reduzir a velocidade ou parar o ve√≠culo. Ele deve ser confi√°vel, eficaz e modul√°vel. O nosso sistema de freio √© composto por quatro discos ventilados de a√ßo inoxid√°vel, acionados por pin√ßas de quatro pist√µes cada. O sistema tamb√©m possui um cilindro mestre duplo com um regulador de press√£o entre os circuitos dianteiro e traseiro, que permite ajustar o equil√≠brio de frenagem entre as rodas. Al√©m disso, o sistema conta com um dispositivo anti-bloqueio (ABS), que evita que as rodas travem em situa√ß√µes de emerg√™ncia.\n\n### Sistema de Propuls√£o (Powertrain)\n\nO sistema de propuls√£o √© o sistema respons√°vel por gerar e transmitir a pot√™ncia do motor para as rodas. Ele deve ser potente, eficiente e dur√°vel.¬†O nosso sistema de propuls√£o √© baseado em um motor el√©trico s√≠ncrono de √≠m√£ permanente, que produz 80 kW (109 CV) de pot√™ncia m√°xima e 220 Nm (22,4 kgf.m) de torque m√°ximo. O sistema tamb√©m possui uma transmiss√£o por corrente e uma embreagem centr√≠fuga, que acopla ou desacopla o motor das rodas traseiras\n\n#### Inversor de Frequ√™ncia\n\nO [Inversor de Frequ√™ncia](notes/el√©trica/Inversor%20de%20Frequ√™ncia) √© o dispositivo respons√°vel por controlar a velocidade do motor el√©trico, variando a frequ√™ncia e a tens√£o que √© fornecida a ele. Ele converte a corrente alternada fixa da rede el√©trica em uma corrente alternada vari√°vel, usando uma t√©cnica chamada modula√ß√£o por largura de pulso (PWM). O inversor de frequ√™ncia permite ajustar a velocidade do motor de acordo com a demanda da opera√ß√£o, otimizando o consumo de energia e o desempenho do ve√≠culo. O nosso inversor de frequ√™ncia √© um modelo compacto e robusto, que possui prote√ß√µes contra sobrecarga, curto-circuito e sobretens√£o. Ele tamb√©m possui uma interface de comunica√ß√£o com o sistema de eletr√¥nica embarcada, que permite monitorar e controlar os par√¢metros do motor.\n\n#### Baterias\n\nO m√≥dulo de baterias √© respons√°vel por monitorar e proteger o pacote de baterias que alimenta o motor el√©trico.¬†O pacote √© composto por 120 c√©lulas de √≠ons de l√≠tio, conectadas em s√©rie e paralelo, que fornecem uma tens√£o nominal de 400 V e uma capacidade de 15 Ah[3](https://blog.kalatec.com.br/inversor-de-frequencia/). O m√≥dulo de baterias mede a tens√£o, a corrente e a temperatura de cada c√©lula, al√©m do estado de carga (SOC) e do estado de sa√∫de (SOH) do pacote. O m√≥dulo tamb√©m controla os rel√©s e os fus√≠veis que isolam o pacote da rede el√©trica do ve√≠culo em caso de falha ou emerg√™ncia. O m√≥dulo ainda envia dados para o sistema de telemetria e para o inversor de frequ√™ncia, que usa essas informa√ß√µes para otimizar o controle do motor.\n\n\n### Eletr√¥nica\n\nA eletr√¥nica √© o conjunto de circuitos e componentes que gerenciam e controlam os diversos sistemas do ve√≠culo. Ela √© respons√°vel por coletar, processar e transmitir dados e sinais entre os sensores, atuadores, dispositivos de entrada e sa√≠da e o sistema de telemetria. A nossa eletr√¥nica √© dividida em m√≥dulos que se comunicam por meio de um barramento CAN (Controller Area Network), que garante uma alta velocidade e confiabilidade na troca de informa√ß√µes. Alguns dos m√≥dulos que comp√µem a nossa eletr√¥nica s√£o:\n\n#### Dire√ß√£o\n\nO m√≥dulo de dire√ß√£o √© respons√°vel por controlar o sistema de dire√ß√£o el√©trica assistida (EPS), que auxilia o piloto na condu√ß√£o do ve√≠culo. O EPS consiste em um motor el√©trico acoplado √† coluna de dire√ß√£o, que aplica um torque proporcional √† for√ßa exercida pelo piloto no volante. O m√≥dulo de dire√ß√£o recebe o sinal do sensor de torque no volante e envia um comando para o motor do EPS, ajustando o n√≠vel de assist√™ncia conforme a velocidade do ve√≠culo. O m√≥dulo tamb√©m monitora a temperatura e a corrente do motor do EPS, al√©m de enviar dados para o sistema de telemetria.\n\n### Telemetria\n\nA telemetria √© o sistema respons√°vel por transmitir e receber dados entre o ve√≠culo e uma esta√ß√£o base. Ela permite acompanhar em tempo real o funcionamento e o desempenho do ve√≠culo durante os testes e as provas da competi√ß√£o. A nossa telemetria usa um transceptor sem fio que opera na faixa de 2,4 GHz, com uma taxa de transmiss√£o de 250 kbps. O transceptor se comunica com um computador na esta√ß√£o base, que exibe os dados em uma interface gr√°fica desenvolvida pela equipe. A telemetria tamb√©m permite enviar comandos para o ve√≠culo, como ligar ou desligar sistemas ou alterar par√¢metros de controle.\n\nConsiderando essenciais os sentores: IMU, GPS, de velocidade das rodas, LIDAR e c√¢meras. Freio, propuls√£o, suspens√£o ‚Üí ser√£o analisados e inclu√≠dos futuramente. Ent√£o s√≥ vamos trabalhar com dados dos primeiros tanto para transmitir tanto quanto para dar entrada no controle. \n\nPara o sensor de RPM a melhor solu√ß√£o √© fazer como em carros comerciais, usando o sensor ABS. Que se trata de um sensor indutivo acoplado mirando os dentes da engrenagem do eixo da roda, possibilitando haver uma boa resolu√ß√£o em velocidades altas ou baixas, n√£o pode ser confundido com a sa√≠da do eixo do motor, em que pode haver uma redu√ß√£o dele para as rodas. Este sensor mede o RPM real das rodas, n√£o a velocidade do motor.\n\nSobre a Inter comunica√ß√£o(interna), todos subsistemas se comunicar√£o com o protocolo CAN, assim como √© feito em modelos comerciais e carros de maior porte. Ser√° um sistema h√≠brido com v√°rios controladores e sensores, independentes, mas trabalhando em conjunto com o computador principal, o qual processa v√≠deo e envia dados para a telemetria.\n\n\n## Veja tamb√©m sobre:\n\u003e üîó[Escolha de sensores](notes/el√©trica/Escolha%20de%20sensores.md)\u003cbr/\u003e\n\u003e üîó [Simulador](simulador.md) \u003cbr/\u003e\n\u003e üîó  [Controle manual √† dist√¢ncia](notes/el√©trica/Controle%20manual%20√†%20dist√¢ncia)\u003cbr/\u003e\n\n\n\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/comorealizarmodifica%C3%A7%C3%B5es":{"title":"Modificar a Wiki","content":"\n\u003e[!INFO] N√£o √© simples\n\u003e\nMas tamb√©m n√£o √© dif√≠cil.\n\n# Setup do GitHub\nO GitHub do F√≥rmula-E Siar√° possui total acesso aos arquivos que comp√µem o site. Portanto, o primeiro passo deve ser fazer o login no mesmo.\n\n## [GitHub Desktop](https://desktop.github.com/)\nAl√©m do acesso ao GitHub pelo navegador, torna-se necess√°rio a instala√ß√£o do GitHub Desktop para a atualiza√ß√£o dos arquivos da Wiki.\n\nAp√≥s [baixar o GitHub Desktop](https://desktop.github.com/), √© necess√°rio realizar a clonagem do reposit√≥rio:\n\n![](notes/images/github-desktop-tut1.png)\n\n![](notes/images/github-desktop-tut2.png)\n\n![](notes/images/github-desktop-tut3.png)\n\n# [Obsidian](http://obsidian.md)\n\nObsidian √© a melhor forma de realizar altera√ß√µes na Wiki, por j√° podermos ter uma pr√©via de como a p√°gina se tornar√°. Entretanto, se voc√™ estiver se sentindo **valente** pode at√© mesmo realizar as modifica√ß√µes nos arquivos ```.md``` pelo navegador ou Notepad.\n\nAp√≥s [baixar e instalar o Obsidian](https://obsidian.md/download), basta abrir um _vault_ na mesma pasta donde o reposit√≥rio foi clonado, com essa op√ß√£o:\n\n![](notes/images/github-desktop-tut4.png)\n\nCom isso, a estrutura da wiki estar√° de livre altera√ß√£o. Tome cuidado e n√£o fa√ßa besteiras! üòÄ\n\n\n\u003e[!done] Parab√©ns!\n\u003e\nVoc√™ est√° preparado para fazer altera√ß√µes relevantes √† equipe do F√≥rmula-e Siar√°! \n\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Balanceamento-de-Baterias":{"title":"Balanceamento de Baterias","content":"","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Baterias":{"title":"Baterias","content":"\n# Objetivos e Desafios\n\nA Bateria precisa ter uma capacidade de carga razo√°vel\nA Bateria precisa ser carregada com desgaste m√≠nimo\nPrecisamos de [[notes/el√©trica/Battery Managment System|monitoriamento]] constante (pra reduzir o desgaste e manter seguran√ßa qu√≠mica da bateria)\n# Como Estamos?\nAtualmente usamos 4 baterias de chumbo-√°cido de 12V em s√©rie, com capacidade individual de 115Ah\n# Futuro\nSubstitui√ß√£o por baterias de [√çon de L√≠tio](notes/el√©trica/Estudo%20de%20Baterias%20Substitutivas.md)\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Battery-Managment-System":{"title":"Battery Managment System","content":"\nUm sistema de gerenciamento de bateria (**battery management system**) √© qualquer sistema eletr√¥nico que gerencie uma bateria recarreg√°vel (seja uma √∫nica c√©lula ou um conjunto), protegendo-a de surtos de corrente, monitorando seu estado, calculando dados secund√°rios, enviar esses dados, controlar o ambiente na qual ela se encontra e/ou [[notes/el√©trica/Balanceamento de Baterias|balanceando-a]].\n\nA¬†[battery pack](https://en.wikipedia.org/wiki/Battery_pack \"Battery pack\")¬†built together with a battery management system with an external communication¬†[data bus](https://en.wikipedia.org/wiki/Bus_(computing) \"Bus (computing)\")¬†is a¬†[smart battery pack](https://en.wikipedia.org/wiki/Smart_battery_pack \"Smart battery pack\"). A smart battery pack must be charged by a¬†[smart battery charger](https://en.wikipedia.org/wiki/Smart_battery_charger \"Smart battery charger\").","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/CANopen":{"title":"CANopen","content":"\n# Introdu√ß√£o\nCANopen √© um protocolo de comunica√ß√£o de rede amplamente utilizado na ind√∫stria, especialmente na automa√ß√£o industrial. Ele foi desenvolvido como uma forma padronizada de comunica√ß√£o entre dispositivos eletr√¥nicos em uma rede [CAN (Controller Area Network)](https://en.wikipedia.org/wiki/CAN_bus).\n\n# Funcionamento\nO funcionamento do CANopen √© baseado fundamentalmente no protocolo CAN, mas inclui uma camada de abstra√ß√£o adicional que permite uma comunica√ß√£o mais flex√≠vel e robusta entre os dispositivos industriais. Ele inclui um conjunto de mensagens padronizadas que podem ser usadas para enviar e receber dados, al√©m de mecanismos de gerenciamento de rede e diagn√≥stico.\n\nA implementa√ß√£o do CANopen envolve a conex√£o de dispositivos eletr√¥nicos compat√≠veis atrav√©s de uma rede CAN f√≠sica, usando cabos e conectores padronizados. Cada dispositivo na rede √© atribu√≠do a um endere√ßo √∫nico e pode ser configurado para enviar ou receber mensagens espec√≠ficas. Um gerenciador de rede ent√£o pode ser usado para configurar e monitorar os dispositivos (como sensores e o pr√≥prio inversor de frequ√™ncia) na rede, bem como para diagnosticar eventuais problemas.","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Controle-manual-%C3%A0-dist%C3%A2ncia":{"title":"","content":"Para controle do carro no simulador ou mesmo fisicamente, existe a op√ß√£o de usar um controle especializado, como os drones possuem, entretando, havendo boa infraestrutura de telemetria podemos usar alguns controles mais simples como teclado ou mesmo um gamepad, havendo confiabilidade e mecanismos de seguran√ßa. Nesse sentido temos o m√≥dulo `ds4input` que recebe entrada de um controle de PS4 e transmite via t√≥picos do ROS para controle do carro. \n\nNo momento fa√ßa: `ros2 run ds4input main`\n\nO c√≥digo escrever√° a mensagem AckermannSteeringStamped no t√≥pico `/cmd`\nAp√≥s abrir o simulador apenas colocar em modo manual, e a entrada via controle funciona, n√£o mexer com comandos de velocidade do launcher usando o controle, at√© o momento a integra√ß√£o n√£o √© completa.","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Dire%C3%A7%C3%A3o":{"title":"","content":"Motor DC 4000 RPM redu√ß√£o 1:8 encoder 15 passos, plataforma: Arduino\n![[esquema_direcao.jpg]]\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Escolha-de-sensores":{"title":"","content":"OK\n- IMU MPU 9250, um n√≠vel acima do mais b√°sico, MPU6050\n- GPS Ublox neo 6m / m8n\n- RPM: simples encoder √≥ptico(incremental), pode at√© ser DIY impresso 3D, no caso mais simples de acoplar sendo s√≥ um disco que vai ser lido pelo encoder de quadratura. Sen√£o temos duas op√ß√µes, usar um encoder √≥ptico rotativo direto na roda/eixo ou com uma redu√ß√£o com uma constante alterada em software.\n- Transmiss√£o de dados: par de ESP32 com anteninha ou um microcontrolador com wifi mais forte.\n\nBOM\n- IMU: Bosch BNO055. Justificativa ‚Üí √â um pouco melhor que o 9250, mas aparentemente incr√≠vel. O BNO tem um algoritmo de fus√£o sensorial que pode ajudar com a parte do GPS, removendo peso do controlador principal. Ganha em alguns aspectos do 9250\n- GPS: SparkFun GPS-RTK2 Board - ZED-F9P ‚Üí 0,05 m/s, dobro do ultimo, ODR de 8 a 25 Hz, dependendo do modo. Aparentemente 1,5m de erro, n√£o fica muito claro na datasheet. Tem dois tipos de medidas o PVT, aparentemente o padr√£o de todos, de onde eu tirei os 1,5m. Tamb√©m tem o RTK, que pode ser preciso por at√© 10cm, supostamente segundo a datasheet, mas esse m√©todo √© mais preciso mesmo. Precisa importar.\n- Sensor indutivo industrial, simples, a ser acoplado na engrenagem do eixo da roda, o que varia vai ser a frequ√™ncia e dist√¢ncia de ativa√ß√£o.\n- Transmiss√£o de dados: ZigBee/LoRa\n\nExcelente\n- IMU, GPS, bar√¥metro: VectorNav VN-300, √© um INU, intertial navigation system. Possui todas as fun√ß√µes, √© s√≥ um dos modelos usados para m√°quinas pesadas de campo, ou mesmo navios, √© um grande exagero, contudo, √© mais que excelente.\n- RPM: sensor indutivo comercial especificamente para carros.\n- Transmiss√£o de dados: HolyBro SiK Telemetry Radio V3, similar ao do PixHawk4\n\nTransmiss√£o de dados\nAlgumas situa√ß√µes s√£o poss√≠veis, considerando que ser√£o transmitidos os dados dos sensores apenas, sem c√¢meras ou LIDAR, devido ao grande volume de dados, importando mais o controle e condi√ß√µes de opera√ß√£o do carro\n- para um setup mais simples, um ESP32 ou mesmo o Wi-Fi do Raspberry Pi podem ser suficientes, unidos de um bom roteador, sendo poss√≠vel andar um pouco apenas para tester simples. \n- Outra op√ß√£o √© usar um m√≥dulo 4G no Raspberry Pi, no entanto acrescenta complexidade. \n- H√° m√≥dulos de r√°dio LoRa que alcan√ßam quilometros de dist√¢ncia e possuem protocolo robusto, o LoRaWAN, basicamente o m√≥dulo √© uma camada, para os bytes brutos, a comunica√ß√£o real seria com MQTT ou TCP/IP.\n- O ideal √© um m√≥dulo de r√°dio como que os drones possuem, no entanto o pre√ßo √© alto.\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Estudo-de-Baterias-Substitutivas":{"title":"Estudo de Baterias","content":"\nRessalvas iniciais:\n\nAs baterias consideradas inicialmente foram baterias l√≠tio cil√≠ndrica, em especial pelo seu valor e pela menor necessidade de cuidados especiais que s√£o necess√°rios nas c√©lulas prism√°ticas (Maior cuidado com a temperatura e press√£o do ambiente).\n\nPressupondo um n√≠vel m√©dio de tens√£o por c√©lula de 3.6V. Com tens√£o total necess√°ria de 72V e Energia Total aproximada de [6.5kWh](https://webthesis.biblio.polito.it/15660/), obtemos as seguintes configura√ß√µes:\n \n\n---:|Sony VTC6 :| LG HG2 :| Samsung 30Q :| Samsung 30T :| Samsung 40T :| Melasta LPA542126\n---|-------------|-----|-----------|-------------|-------------|--------------------\nDimensions|18650 |18650 | 18650 | 21700 | 21700 | Primastic\nNominal capacity [mAh] | 3120 | 3000 | 3040 | 3000 | 4000 | 6000\nNominal voltage [V] | 3,6 | 3,6 | 3,6 | 3,6 | 3,6 | 3,7\nEnergy density [Wh/g] | 0,240 | 0,230 | 0,240 | 0,158 | 0,216 | 0,175\nInternal impedance [‚Ñ¶] | 0,13 | 0,20 | 0,13 | 0,13 | 0,12 | \nMaximum continuous discharge current [A] | 20 | 20 | 15 | 35 | 35 | 56\nEnergy/pack of 20 [Wh] | 224.64 | 216 | 218.88 | 216 | 288 | 444\nNumber of Packs to supply 6.5kWh | 28.9 | 30.1 | 29.7 | 30.1 | 22.6 | 14.6\nTotal number of Cells | 600 | 640 | 600 | 640 | 480 | 320\nTotal weight (Only Cells) [kg] | 25.0 | 26.1 | 25.0 | 38.0 | 27.8 | 34.3\n\nTendo uma tens√£o total de 72V, devemos \"serializar\" 20 c√©lulas. (72V\\\\3.6V)\nAl√©m disso, temos dois limitantes para o n√∫mero de packs: a Energia Total e a Corrente de descarga. Nosso contingente de Energia atual totaliza 5.5kWh.\n\nPara calcular a Corrente que ser√° puxada da nossa bateria, basta especificarmos a pot√™ncia da nossa carga. Pelas especifica√ß√µes, obtemos: 7.5kW do motor, 0.6kW em perdas do Inversor e 0.4kW de componentes eletr√¥nicos, obtemos um total de 8.5kW.\u003cbr/\u003e\nPortanto, podemos esperar uma corrente de 120A (8.5kW\\\\72V). Criando um limitante m√≠nimo para cada poss√≠vel c√©lula:\n\n---|Sony VTC6 | LG HG2 | Samsung 30Q | Samsung 30T | Samsung 40T | Melasta LPA542126\n---|-------------|-----|-----------|-------------|-------------|--------------------\nMaximum continuous discharge current [A] | 20 | 20 | 15 | 35 | 35 | 56\nMinimum number of parallel 20 cells' packs to support the expected system's current| 6.0 | 6.0 | 8.0 | 3.4 | 3.4 | 2.1\n","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/el%C3%A9trica/Inversor-de-Frequ%C3%AAncia":{"title":"Inversor de Frequ√™ncia","content":"\n# Introdu√ß√£o\nUm inversor de frequ√™ncia √© um dispositivo eletr√¥nico que √© usado para controlar a velocidade de um motor el√©trico. Ele faz isso alterando a frequ√™ncia da corrente el√©trica que alimenta o motor. Quando a frequ√™ncia da corrente √© aumentada, a velocidade do motor tamb√©m aumenta, e quando a frequ√™ncia √© diminu√≠da, a velocidade do motor diminui.\n\n# Funcionamento\n\nO funcionamento de um inversor de frequ√™ncia √© relativamente simples. Ele consiste basicamente em um conversor de CC para CA. O inversor de frequ√™ncia recebe uma fonte de corrente cont√≠nua de entrada e a converte em corrente alternada de sa√≠da com uma frequ√™ncia (e corrente) ajust√°vel. A corrente alternada de sa√≠da √© ent√£o usada para alimentar o motor el√©trico, alterando sua velocidade de acordo com a frequ√™ncia da corrente.\n\n# Nosso Carro\n\nNo nosso carro utilizamos o CVW300, um inversor de frequ√™ncia da WEG projetado para ser usado em ve√≠culos el√©tricos. Ele √© capaz de controlar motores el√©tricos trif√°sicos de baixa tens√£o e √© compat√≠vel com tens√µes de bateria de 24 a 72 VDC. Ele possui um controle vetorial embutido e f√°cil configura√ß√£o e ajuste atrav√©s de uma interface humano-m√°quina externa (similar √† um controle remoto). Nossas aplica√ß√µes driverless (sem motoristas) s√£o suportadas nativamente por comunica√ß√µes digitais RS485 e [[CANopen]].","lastmodified":"2023-06-06T20:17:35.395539075Z","tags":null},"/notes/telemetria/simulador":{"title":"Simulador","content":"\nDecidimos por usar um simulador quase de acordo com as necessidades do projeto. Usamos uma vers√£o modificada do simulador da equipe de Formula da Universidade de Edimburgo. \n\n\u003ca href=\"https://github.com/Formula-E-Siara/simulador\"\u003eSIMULADOR\u003c/a\u003e\n\n## Como instalar o simulador\nInfelizmente somente funciona em linux, algumas depend√™ncias do simulador s√£o do linux apesar da possibilidade de usar o ROS no Windows. No entanto, √© poss√≠vel usar o WSL ou o VirtualBox.\n\nOBS.: o site do EUFS lista Ubuntu 22 e ROS Galactic, mas aqui usamos outras vers√µes. \n\n### Requerimentos\n- Ubuntu 22.04\n- git\n- lsb_release\n- ROS 2 Humble\n\n### Primeiros passos\nPrimeiramente, execute\n```\nsudo add-apt-repository main\nsudo add-apt-repository universe\nsudo apt install lsb-core lsb-release -y\n```\nServe para que o script do ROS detecte a vers√£o correta do Ubuntu, isso realmente deu uma vez erro e consumiu muito tempo. \n\nEm seguida v√° na p√°gina do \u003ca href=\"https://docs.ros.org/en/humble/Installation/Ubuntu-Install-Debians.html\"\u003eROS Humble\u003c/a\u003e, seguindo os passos tudo deve funcionar normalmente. Quando for fazer o `sudo apt install ros-humble-desktop`, n√£o fa√ßa, fa√ßa isso: `sudo apt install ros-humble-desktop`, para instalar todos os pacotes. Ainda vai faltar, ent√£o instale esses pacotes:\n```\nsudo apt install ros-humble-gazebo-ros ros-humble-ackermann-msgs\n```\n\nAgora para outras depend√™ncias do simulador, fa√ßa\n```\npip3 install colcon-common-extensions -U\n# se voc√™ n√£o tiver python:\nsudo apt install python3 python3-pip\n```\n\nFa√ßa:\n```\n# criamos a pasta do simulador\ncd ~/\n\n# efetivamente fazendo o download dele\ngit clone https://github.com/Formula-E-Siara/simulador\n```\n\nAp√≥s isso executamos os comandos, mas cuidado, coloque direito para n√£o ter que editar o arquivo do seu bash, dentro da pasta do simulador voc√™ pode dar um `pwd` e ver o diret√≥rio absoluto. No meu caso, geralmente seria `/home/gusta/simulador`, no seu caso vai ser: `/home/USUARIO/simulador` substituindo pelo seu nome\n```\necho 'export EUFS_MASTER=(caminho absoluto da pasta do simulador)' \u003e\u003e ~/.bashrc\nsource ~/.bashrc\n```\n\nVamos iniciar o workspace do ros, se voc√™ n√£o tiver feito\n```\nsource /opt/ros/humble/setup.bash\n```\n\nEsses comandos iniciam o gerenciador de pacote e instalam os pacotes do simulador que baixamos no `git clone`\n```\nsudo apt-get install python3-rosdep\nsudo rosdep init\nrosdep update\nrosdep install --from-paths $EUFS_MASTER --ignore-src -r -y\n```\n\nVolte para a pasta do simulador e fa√ßa:\n```\n# entrar na pasta\ncd $EUFS_MASTER\n\n# dentro da pasta\ncolcon build\n```\n\nNa hora de instalar o simulador siga o tutorial do EUFS normalmente, no entanto, ao ao chegar na parte de rosdep install, fa√ßa source do script do ROS, exemplo, baixei e compilei, abro a pasta que salvei e fa√ßo:\n```\n# se voc√™ usar zsh use .zsh ao inv√©s de .bash\nsource ./install/setup.bash\n```\nSe faltarem m√≥dulos na hora, pegue o nome deles e substitua underline por \"-\", e fa√ßa conforme o exemplo: \n```\n# exemplo ackermann_msgs\nsudo apt install ros-humble-ackermann-msgs\n```\nDepois colcon build e pronto. Daqui sempre que for usar o simulador fa√ßa, entre na pasta do simulador e fa√ßa\n```\n# caso n√£o estiver na pasta, fa√ßa:\ncd ~/eufs_modified \u0026\u0026 . install/setup.bash\n# caso estiver na pasta fa√ßa\n. install/setup.bash\n# se n√£o der certo substitua o . por source\n\n# para iniciar o simulador\nros2 launch eufs_launcher eufs_launcher.launch.py\n```\n","lastmodified":"2023-06-06T20:17:35.403539095Z","tags":null}}